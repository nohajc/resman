sudo: required

services:
  - docker

osx_image: xcode10
dist: trusty

os:
  - osx
  - linux

language: cpp

install:
  - build_scripts/${TRAVIS_OS_NAME}/travis_install.sh

script:
  - build_scripts/${TRAVIS_OS_NAME}/travis_script.sh

deploy:
  provider: releases
  api_key:
    secure: "l6Gy24Vv2Ug6JzsIFxIt6aCaeIPwB4FufI/yuayAxOLF/lVGsI9Eh/e2AJJ0Vax1EdkdvhJC7ZbViBJ6APlaHzYIp239pYWXPraUUtclMJDh0aUQ9Hq1zAdP2mRBQTorQhH8bWKCpuiXRcMs+0N4y1sDgOIWdWliBUOPRvaK2QhjUiOGs35iyM8PDTLtrVRT6mFAy3SHwpZiFfhMQUVnnuGTwoOjV8p3J0vWhpwkHXNftgyKxoRkXxF4V2SeZMwprqjIdMVndna1GXQv47hzeEHHdeNOic/qsyEZmAClNHwizOe4ds3462nAkZzokFWr6sEbImYM5X19fHTi1FZHBDWLbub7P0p5/2EnDNuDAWOUrCYQ/97z6x9ae7peesGNd8bk/3hI+xPxGh2FOYf1rKWId49T7HRXAoKioW275rtPw/qnuk78hDd2dCEc6ZIeYDtOBBUZIVc81zNJ4WdSkDRaaQ1LZwFQ69ImEIgqpE6lbqY7iJtQb/r89qTHBgT2nL61uJttjcu0kw17IM0qJ5iqE4NgYYkUSKHPpryGum/SI718kQEMNRGXj0ye2QS92UOLEHmzJgAGFm38jIgPkeEnVfHlBgtLKqC6cdhqmbgOaE0yR2LBgOY5wc215dtUaVJ2OH2b+M593uwWZP/XDlpaomNTM66xOZlzRyaOOQ8="
    file: build/resman-${TRAVIS_OS_NAME}-amd64.tar.xz
  skip_cleanup: true
  on:
    tags: true
