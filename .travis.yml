sudo: required

services:
  - docker

osx_image: xcode10
dist: trusty

os:
  - osx
  - linux

language: cpp

install:
  - build_scripts/${TRAVIS_OS_NAME}/travis_install.sh

script:
  - build_scripts/${TRAVIS_OS_NAME}/travis_script.sh

deploy:
  provider: releases
  api_key:
    secure: "li2w9mkycNDpvtVeJjU27ggcA/5PQHO79FO7qjIC4+Rmj+G+AyNqwnAFQ2mAfcHL+5pOf3/zdXMVkmV/ej0/umo+Cbp65Ob+P2lVstOdwu/Q1a8JtSKUm3MTaRWtW09C1s14QwIwGbrowsjZnS6u6fvKFA9jQrw9ZFrVhoHrQhoIAznwzfOcyOJXc8b+ZfaYtSKg6Wsm6T7K7NpVjbQoGiyY8dkMUR/nxquOdxENGeKyg3vmBSyA7/gMI8n7u/HffeqzeT/LYE3iXBRk6RjU/216SL4xrzeVhnnob0ZM6nnDlaAyJQdzeVGP/IM9O/khZxL708TsWK6aOYVvKbP041Rfq+P9KMH7KEEtzPGxPkpcG3Pkau+PcL6Oku9UN28H1z3kGXT0eB/gxFS/846Xl7cXWamEXr1Gn63ICI8RhpNxj1/9JIn3Wy0n3MwRlMwPtX3WhpnRtMpjACTLzs2fNOGegGRpqUw9NOTe9OKG1ZVb+bKrgx4Uhq/SE7547Nb9Fuzz92/nwuLQqUiPIUFM9UArqNslsMfs/MNdiumiFoQ9WrQ50yJHM+Ntsi03OEFbxfyCrm4jUmHFstBKTUD8bgiZNJonn7i7iKhDvDlh++bbg1RrMYRIJv5RPclLx4fUWuCnhI+GaQL1ScQ4hQAnCgrziHIgzdCBHW4IC9iFO2k="
    file: build/resman-${TRAVIS_OS_NAME}-amd64.tar.xz
  skip_cleanup: true
  on:
    tags: true
